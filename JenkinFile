pipeline{
    	agent any
    	tools {
  	maven 'm1'
	     }
	stages {
  	stage('clean') {
    				steps {
      					sh 'mvn clean '
   					 }
  				}
  		stage('build') {
    				steps {
      					sh 'mvn install'
   					 }
  				}

  		stage('test') {
    steps {
      sh 'mvn test'
    }
  }


  stage('post') {
    steps {
      archiveArtifacts artifacts: 'Amazon-Core/target/**.jar', followSymlinks: false
      junit 'Amazon-Core/target/surefire-reports/*.xml'
    }
  }

}

}
